<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de média</title>
</head>
<body>
    <h2>Insira as notas abaixo:</h2>
    <br><hr>
    Nota 1: <input type="text" name="nota_1" id="n1"><br>
    Nota 2: <input type="text" name="nota_2" id="n2"><br>
    Nota 3: <input type="text" name="nota_3" id="n3"><br><hr>
    Média: <input type="text" name="media" id="media" disabled><br>
    Situação: <input type="text" name="situacao" id="situacao" disabled><br>

    <button onclick="return media()">Calcular Média</button>
    <br>
    <div id="divRecuperacao">
        Nota Recuperação: <input type="text" name="recup." id="nr">
        <button onclick="return recuperacao()">Calcular</button>
        <br>
        Média Recuperação: <input type="text" name="med.recup." id="mRec" disabled><br>
        Situação Final: <input type="text" name="sit.recup." id="sRec" disabled><br>
    </div>
    <script>
        document.getElementById("divRecuperacao").style.display="none";
        function media() {
            var n1 = document.getElementById('n1').value;
            var n2 = document.getElementById('n2').value;
            var n3 = document.getElementById('n3').value;
            var media = ((parseFloat(n1) + parseFloat(n2) + parseFloat(n3)) / 3);
            document.getElementById('media').value = media.toFixed(2);
            if (media >= 7) {
                document.getElementById('situacao').value = "Aprovado";
                document.getElementById('situacao').disabled = true;
                document.getElementById('media').disabled = true;
                document.getElementById('n1').disabled = true;
                document.getElementById('n2').disabled = true;
                document.getElementById('n3').disabled = true;
                document.getElementById('situacao').style.color = "green";
                } else {
                    document.getElementById('situacao').value = "Recuperação";
                    document.getElementById('situacao').disabled = true;
                    document.getElementById('media').disabled = true;
                    document.getElementById('n1').disabled = true;
                    document.getElementById('n2').disabled = true;
                    document.getElementById('n3').disabled = true;
                    document.getElementById('situacao').style.color = "orange";
                    document.getElementById("divRecuperacao").style.display="block";
                    };
            }
        function recuperacao(){
            var nr = document.getElementById('nr').value;
            var mediaAnt = document.getElementById('media').value;
            var mRec = ((parseFloat(nr) + parseFloat(mediaAnt)) / 2);
            document.getElementById('mRec').value = mRec.toFixed(2);
            if (mRec >= 5) {
                document.getElementById('sRec').value = "Aprovado";
                document.getElementById('sRec').disabled = true;
                document.getElementById('mRec').disabled = true;
                document.getElementById('nr').disabled = true;
                document.getElementById('media').disabled = true;
                document.getElementById('n1').disabled = true;
                document.getElementById('n2').disabled = true;
                document.getElementById('n3').disabled = true;
                document.getElementById('situacao').style.color = "green";
                } else {
                    document.getElementById('sRec').value = "Reprovado";
                    document.getElementById('sRec').disabled = true;
                    document.getElementById('mRec').disabled = true;
                    document.getElementById('nr').disabled = true;
                    document.getElementById('media').disabled = true;
                    document.getElementById('n1').disabled = true;
                    document.getElementById('n2').disabled = true;
                    document.getElementById('n3').disabled = true;
                    document.getElementById('situacao').style.color = "red";
                    };
            }
    </script>
</body>
</html>